<script>
(function () {
  const REDIRECT_MAP = {
    'https://versaodeluxe.directorioforuns.com/h147-vinhadinho-capital-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Acapital.html',
    'https://versaodeluxe.directorioforuns.com/h146-vinhadinho-hoje-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Vale-hoje.html',
    'https://versaodeluxe.directorioforuns.com/h145-vinhadinho-amanha-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Vale-amanha.html',
    'https://versaodeluxe.directorioforuns.com/h144-vinhadinho-blog-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Lista-hibridos.html',
    'https://versaodeluxe.directorioforuns.com/h143-vinhadinho-mobile-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Inicio.html',
    'https://versaodeluxe.directorioforuns.com/h142-vinhadinho-acampamento-scripts': 'https://versaodeluxe18.github.io/vinhadinho/game/Acampamento-2.html',
    'https://versaodeluxe.directorioforuns.com/h142-vinhado-acampamento-2-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Acampamento-2.html',
    'https://versaodeluxe.directorioforuns.com/h135-vinhadinho-adaptativo-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Adaptativo.html',
    'https://versaodeluxe.directorioforuns.com/h134-vinhado-acampamento-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Acampamento.html',
    'https://versaodeluxe.directorioforuns.com/h132-vinhadinho-cabana-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Cabana.html',
    'https://versaodeluxe.directorioforuns.com/h132-vinhadinho-start-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Cabana.html',
    'https://versaodeluxe.directorioforuns.com/h131-vinhadinho-coleta-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Coletando-processando.html',
    'https://versaodeluxe.directorioforuns.com/h130-vinhadinho-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Coleta.html',
    'https://versaodeluxe.directorioforuns.com/h130-nada': 'https://versaodeluxe18.github.io/vinhadinho/game/Coleta.html',
    'https://versaodeluxe.directorioforuns.com/h148-vinhadinho-politica-game': 'https://versaodeluxe18.github.io/vinhadinho/game/Politica-privacidade.html',
    'https://versaodeluxe.directorioforuns.com/f13-vinhadinho': 'https://versaodeluxe18.github.io/vinhadinho/game/Inicio.html'
};

  const normalize = (url) => (url || '').trim().replace(/\/$/, '');
  const toGitRaw = (url) => REDIRECT_MAP[normalize(url)] || url;

  const originalOpen = window.open;
  window.open = function (url, ...args) {
    return originalOpen.call(window, toGitRaw(url), ...args);
  };

  function patchAnchors(root) {
    if (!root || !root.querySelectorAll) return;
    root.querySelectorAll('a[href]').forEach((a) => {
      const converted = toGitRaw(a.href);
      if (converted !== a.href) a.href = converted;
    });
  }

  patchAnchors(document);

  const observer = new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      mutation.addedNodes.forEach((node) => {
        if (node.nodeType === 1) {
          if (node.matches && node.matches('a[href]')) {
            const converted = toGitRaw(node.href);
            if (converted !== node.href) node.href = converted;
          }
          patchAnchors(node);
        }
      });
    }
  });

  observer.observe(document.documentElement, { childList: true, subtree: true });

  document.addEventListener('click', function (event) {
    const anchor = event.target.closest && event.target.closest('a[href]');
    if (!anchor) return;

    const converted = toGitRaw(anchor.href);
    if (converted === anchor.href) return;

    event.preventDefault();

    if (anchor.target === '_blank') {
      window.open(converted, '_blank', 'noopener');
      return;
    }

    window.location.assign(converted);
  }, true);
})();
</script>



<script>
(async () => {
  const host = window.location.hostname;
  const isGoogle = host === 'https://versaodeluxe18.github.io/' || host === 'versaodeluxe18.github.io';

  if (!isGoogle) return;

  const sourceUrl = 'https://raw.githubusercontent.com/versaodeluxe18/vinhadinho/refs/heads/main/game/modo-dev.html';

  try {
    const response = await fetch(sourceUrl, { cache: 'no-store' });
    if (!response.ok) throw new Error(`Falha ao carregar HTML: ${response.status}`);

    const html = await response.text();
    const parsed = new DOMParser().parseFromString(html, 'text/html');
    const scripts = parsed.querySelectorAll('script');

    for (const original of scripts) {
      const script = document.createElement('script');

      for (const attr of original.attributes) {
        script.setAttribute(attr.name, attr.value);
      }

      if (!original.src) {
        script.textContent = original.textContent;
      }

      document.head.appendChild(script);
    }
  } catch (error) {
    console.error('Erro ao importar scripts do modo-dev.html:', error);
  }
})();
</script>
