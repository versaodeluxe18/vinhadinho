<!-- PRODUÇÃO EM: https://versaodeluxe.directorioforuns.com/h146-vinhadinho-hoje-game  -->


<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>O Vale Hoje</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  width: 100%;
  height: 100%;
  background: #f0f0f0; 
  font-family: 'Press Start 2P', monospace;
  color: #000000;
  overflow-x: hidden;
  overflow-y: auto;
   filter: contrast(1.05) saturate(0.9);
}

/* ===== CONTEÚDO PRINCIPAL ===== */
#vale-hoje {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding: 4vh 6vw;
  gap: 2rem;
}

/* ===== TEXTO ===== */
#evento-titulo {
  font-size: 18px;
  letter-spacing: 2px;
  text-transform: uppercase;
}

#evento-descricao {
  font-size: 12px;
  line-height: 1.7;
  opacity: 0.9;
  white-space: pre-wrap;
}

/* ===== IMAGEM ===== */
#evento-imagem {
  width: 100%;
  max-height: 42vh;
  object-fit: cover;
  border: 4px solid rgba(255,255,255,0.12);
  filter: grayscale(100%);
}

/* ===== BOTÃO ===== */
#evento-abrir {
  padding: 1rem 1.8rem;
  background: #c49b46;
  border: none;
  color: #111;

  font-size: 14px;        
  font-weight: 700;      
  letter-spacing: 1px;    
  text-transform: uppercase;

  cursor: pointer;
  transition: transform .2s, filter .2s;
  text-shadow: 1px 1px 0 #000;
}


#evento-abrir:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

/* ===== LOADING ===== */
#loading {
  font-size: 12px;
  opacity: 0.6;
}

/* ===== MODAL (IGUAL AO PROJETO) ===== */
.custom-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  z-index: 12000;
  display: flex;
  flex-direction: column;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s;
}

.custom-modal.open {
  opacity: 1;
  pointer-events: auto;
}

.custom-modal-header {
  padding: 10px;
  text-align: right;
}

.custom-modal-close {
  background: none;
  border: none;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}

.custom-modal-content {
  flex: 1;
  background: #111;
}

.custom-modal-content iframe {
  width: 100%;
  height: 100%;
  border: none;
}
  
  
  /* ===== EFEITO MONITOR ANTIGO (CRT) ===== */
.monitor-overlay{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,0.12),
      rgba(0,0,0,0.12) 1px,
      transparent 2px,
      transparent 4px
    ),
    radial-gradient(
      ellipse at center,
      transparent 55%,
      rgba(0,0,0,0.18) 100%
    );
  animation: scanMove 10s linear infinite, flicker 3.2s infinite;
}

@keyframes scanMove{
  from { background-position: 0 0, center; }
  to   { background-position: 0 100%, center; }
}

@keyframes flicker{
  0%{opacity:.28}
  8%{opacity:.38}
  15%{opacity:.22}
  30%{opacity:.35}
  45%{opacity:.25}
  60%{opacity:.4}
  75%{opacity:.3}
  100%{opacity:.34}
}

</style>
</head>

<body>
<div class="monitor-overlay"></div>

<section id="vale-hoje">
  <div id="loading">CARREGANDO EVENTO DO DIA...</div>

  <h1 id="evento-titulo" style="display:none;"></h1>
  <img id="evento-imagem" style="display:none;">
  <div id="evento-descricao" style="display:none;"></div>
  <button id="evento-abrir" style="display:none;">ABRIR EVENTO</button>
</section>

<!-- ===== MODAL ===== --><div class="custom-modal" id="customModal">
  <div class="custom-modal-header">
    <button class="custom-modal-close" onclick="closeModal()">✕</button>
  </div>
  <div class="custom-modal-content" id="customModalContent"></div>
</div>

<script>
/* ===== MODAL (MESMO PADRÃO DO JOGO) ===== */
const modal = document.getElementById('customModal');
const modalContent = document.getElementById('customModalContent');

function openModal(){
  void modal.offsetWidth;
  modal.classList.add('open');
}

function closeModal(){
  modal.classList.remove('open');
  modalContent.innerHTML = '';
}

function openSiteModal(url){
  modalContent.innerHTML = `
    <iframe src="${url}" allow="autoplay"></iframe>
  `;
  openModal();
}

/* ===== LÓGICA DO VALE HOJE ===== */
(async function () {

  const TSV_URL =
    'https://docs.google.com/spreadsheets/d/e/2PACX-1vQk1rp-ttOEtOy1IQQBNRsg-fALCUuok8iKXxB1DQc7pXsDRchlvO6FU15CLAFcuudCEoNq-rSUl6sV/pub?gid=680360343&single=true&output=tsv';

  const hoje = new Date().getDate();

  try {
    const res = await fetch(TSV_URL);
    let tsv = await res.text();

    tsv = tsv.replace(/^\uFEFF/, '');

    const linhas = tsv
      .split('\n')
      .map(l => l.trim())
      .filter(Boolean);

    linhas.shift(); // remove cabeçalho

    let dadosHoje = null;

    for (const l of linhas) {
      const col = l.split(/\t+/);
      const dia = parseInt(String(col[0]).replace(/[^\d]/g, ''), 10);
      if (dia === hoje) {
        dadosHoje = col;
        break;
      }
    }

    if (!dadosHoje) throw new Error('Evento não encontrado');

    const titulo    = dadosHoje[1];
    const descricao = dadosHoje[2];
    const imagem    = dadosHoje[3];
    const link      = dadosHoje[4];

    document.getElementById('loading').style.display = 'none';

    const elTitulo = document.getElementById('evento-titulo');
    const elImg    = document.getElementById('evento-imagem');
    const elDesc   = document.getElementById('evento-descricao');
    const elBtn    = document.getElementById('evento-abrir');

    elTitulo.textContent = titulo;
    elDesc.textContent   = descricao;

    elTitulo.style.display = 'block';
    elDesc.style.display   = 'block';

    if (imagem) {
      elImg.src = imagem;
      elImg.style.display = 'block';
    }

    elBtn.style.display = 'inline-block';
    elBtn.onclick = () => openSiteModal(link);

  } catch (e) {
    console.error(e);
    document.getElementById('loading').textContent =
      'NENHUM EVENTO DISPONÍVEL HOJE';
  }

})();
</script>

  
  
  
  
  
  
  

<script>
(function () {
  /* =======================
     CSS DO BOTÃO (INJETADO)
     ======================= */
  const style = document.createElement('style');
  style.textContent = `
    #back-fab {
      position: fixed;
      right: 18px;
      bottom: 18px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--accent, #b86b3f);
      color: #fff;
      border: 2px solid rgba(0,0,0,0.08);
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
      z-index: 7001;
      cursor: pointer;
      font-size: 22px;
      transition: transform .12s ease, box-shadow .12s ease;
      -webkit-tap-highlight-color: transparent;
    }

    #back-fab:active {
      transform: translateY(1px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.18);
    }

    #back-fab svg {
      width: 22px;
      height: 22px;
      stroke: currentColor;
    }
  `;
  document.head.appendChild(style);

  /* =======================
     BOTÃO (CRIADO VIA JS)
     ======================= */
  const btn = document.createElement('button');
  btn.id = 'back-fab';
  btn.setAttribute('aria-label', 'Voltar');
  btn.innerHTML = `
    <svg viewBox="0 0 24 24" fill="none" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5"></path>
      <path d="M12 19l-7-7 7-7"></path>
    </svg>
  `;
  document.body.appendChild(btn);

  /* =======================
     LÓGICA DE VOLTAR
     ======================= */
  function voltar() {
    // 1️⃣ Se blog overlay estiver aberto → fecha
    const blogOverlay = document.getElementById('blog-overlay');
    if (blogOverlay && blogOverlay.classList.contains('open')) {
      if (typeof closeBlogOverlay === 'function') {
        closeBlogOverlay();
        return;
      }
    }

    // 2️⃣ Se modal estiver aberto → fecha
    const modal = document.getElementById('modal-missing');
    if (modal && modal.classList.contains('open')) {
      if (typeof closeModal === 'function') {
        closeModal();
        return;
      }
    }

    // 3️⃣ Volta no histórico
    if (window.history.length > 1) {
      history.back();
      return;
    }

    // 4️⃣ Fallback final
    if (document.referrer) {
      location.href = document.referrer;
    } else {
      location.href = '/';
    }
  }

  /* =======================
     EVENTOS
     ======================= */
  btn.addEventListener('click', voltar);

  btn.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      voltar();
    }
  });

})();
</script>

  

<script>
(async () => {
  const host = window.location.hostname;
  const isGoogle = host === 'https://versaodeluxe18.github.io/' || host === 'versaodeluxe18.github.io';

  if (!isGoogle) return;

  const sourceUrl = 'https://raw.githubusercontent.com/versaodeluxe18/vinhadinho/refs/heads/main/game/modo-dev.html';

  try {
    const response = await fetch(sourceUrl, { cache: 'no-store' });
    if (!response.ok) throw new Error(`Falha ao carregar HTML: ${response.status}`);

    const html = await response.text();
    const parsed = new DOMParser().parseFromString(html, 'text/html');
    const scripts = parsed.querySelectorAll('script');

    for (const original of scripts) {
      const script = document.createElement('script');

      for (const attr of original.attributes) {
        script.setAttribute(attr.name, attr.value);
      }

      if (!original.src) {
        script.textContent = original.textContent;
      }

      document.head.appendChild(script);
    }
  } catch (error) {
    console.error('Erro ao importar scripts do modo-dev.html:', error);
  }
})();
</script>
</body>
</html>
